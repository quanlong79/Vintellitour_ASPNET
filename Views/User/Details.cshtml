@model Vintellitour_Framework.Models.User
@{
    ViewData["Title"] = "Chi tiết người dùng";
}

<div class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">

        <!-- Main Content Card -->
        <div class="bg-white rounded-2xl shadow-xl overflow-hidden">
            <div class="bg-gradient-to-r from-blue-600 to-indigo-600 px-8 py-6">
                <div class="flex items-center space-x-6">
                    <!-- Avatar Display -->
                    <div class="relative">
                        <img src="@(!string.IsNullOrEmpty(Model.Avatar) ? Model.Avatar : "/img/avatar-default-svgrepo-com.svg")"
                             alt="Avatar"
                             class="w-24 h-24 rounded-full border-4 border-white shadow-lg object-cover" />
                        <div class="absolute -bottom-2 -right-2 bg-green-500 w-6 h-6 rounded-full border-2 border-white"></div>
                    </div>

                    <!-- User Basic Info -->
                    <div class="text-white">
                        <h2 class="text-2xl font-bold">@Model.Username</h2>
                        <p class="text-blue-100 opacity-90">@Model.Email</p>
                    </div>
                </div>
            </div>

            <!-- Form Section -->
            <div class="p-8">
                <form asp-action="UpdateProfile" asp-controller="User" asp-route-id="@Model.Id"
                      method="post" enctype="multipart/form-data" class="space-y-6">

                    <!-- Username Field -->
                    <div class="group">
                        <label class="block text-sm font-semibold text-gray-700 mb-2">
                            <i class="fas fa-user mr-2 text-blue-500"></i>Tên người dùng
                        </label>
                        <input type="text" name="username" value="@Model.Username"
                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition duration-200 group-hover:border-blue-400"
                               placeholder="Nhập tên người dùng" />
                    </div>

                    <!-- Avatar Upload -->
                    <div class="group">
                        <label class="block text-sm font-semibold text-gray-700 mb-2">
                            <i class="fas fa-camera mr-2 text-blue-500"></i>Cập nhật avatar
                        </label>
                        <div class="relative">
                            <input type="file" name="avatar" accept="image/*"
                                   class="w-full px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-400 focus:border-blue-500 focus:outline-none transition duration-200 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100" />
                            <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                                <i class="fas fa-upload text-gray-400"></i>
                            </div>
                        </div>
                        <p class="text-sm text-gray-500 mt-1">PNG, JPG, GIF tối đa 10MB</p>
                    </div>

                    <!-- Read-only Fields -->
                    <div class="grid md:grid-cols-2 gap-6">
                        <!-- Email -->
                        <div class="bg-gray-50 rounded-lg p-4 border border-gray-200">
                            <label class="block text-sm font-semibold text-gray-700 mb-2">
                                <i class="fas fa-envelope mr-2 text-blue-500"></i>Email
                            </label>
                            <span class="text-gray-900 font-medium">@Model.Email</span>
                        </div>

                        <!-- Created Date -->
                        <div class="bg-gray-50 rounded-lg p-4 border border-gray-200">
                            <label class="block text-sm font-semibold text-gray-700 mb-2">
                                <i class="fas fa-calendar-plus mr-2 text-green-500"></i>Ngày tạo
                            </label>
                            <span class="text-gray-900 font-medium">@Model.CreatedAt.ToLocalTime().ToString("dd/MM/yyyy")</span>
                        </div>
                    </div>

                    <!-- Updated Date -->
                    <div class="bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-4 border border-purple-200">
                        <label class="block text-sm font-semibold text-gray-700 mb-2">
                            <i class="fas fa-clock mr-2 text-purple-500"></i>Lần cập nhật cuối
                        </label>
                        <span class="text-gray-900 font-medium">@Model.UpdatedAt.ToLocalTime().ToString("dd/MM/yyyy HH:mm")</span>
                    </div>

                    <!-- Action Buttons -->
                    <div class="flex flex-col sm:flex-row gap-4 pt-6 border-t border-gray-200">
                        <button type="submit"
                                class="flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold py-3 px-6 rounded-lg hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transform transition duration-200 hover:scale-105 shadow-lg">
                            <i class="fas fa-save mr-2"></i>Cập nhật thông tin
                        </button>

                        <button type="button"
                                onclick="window.history.back()"
                                class="flex-1 sm:flex-none bg-gray-200 text-gray-700 font-semibold py-3 px-6 rounded-lg hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition duration-200">
                            <i class="fas fa-arrow-left mr-2"></i>Quay lại
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Font Awesome Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

<style>
    /* Custom scrollbar */
    ::-webkit-scrollbar {
        width: 8px;
    }

    ::-webkit-scrollbar-track {
        background: #f1f1f1;
    }

    ::-webkit-scrollbar-thumb {
        background: #c1c1c1;
        border-radius: 4px;
    }

        ::-webkit-scrollbar-thumb:hover {
            background: #a8a8a8;
        }

    /* Animation for hover effects */
    .group:hover .fas {
        transform: scale(1.1);
        transition: transform 0.2s ease-in-out;
    }
</style>